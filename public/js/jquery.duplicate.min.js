/** https://github.com/ReallyGood/jQuery.duplicate */
$.duplicate=function(){function h(){var b=$(this).data("duplicate-add"),c=$("[data-duplicate="+b+"]"),a=$(c).last();a.length||(a=$(d[b].parent));var e=$(g[b]).clone(!0);$(c).length>=d[b].maximum?$(this).trigger("duplicate.error"):(a.after(e),$(this).trigger("duplicate.add"))}function k(){var b=$(this).data("duplicate-remove"),c="[data-duplicate="+b+"]",a=$(this).closest(c);a.length||(a=$(this).siblings(c).eq(0));a.length||(a=$(c).last());$(c).length<=d[b].minimum?$(this).trigger("duplicate.error"):
(a.remove(),$(this).trigger("duplicate.remove"))}var f=$("body");f.off("duplicate");var g={},d={};$(function(){$("[data-duplicate]").each(function(){var b=$(this).data("duplicate"),c=$("<div>").html($(this).clone(!0)).html(),a={},e=+$(this).data("duplicate-min");a.minimum=isNaN(e)?1:e;a.maximum=+$(this).data("duplicate-max")||Infinity;a.parent=$(this).parent();d[b]=a;g[b]=c});f.on("click.duplicate","[data-duplicate-add]",h);f.on("click.duplicate","[data-duplicate-remove]",k)})};$.duplicate();